:root {
  /* Palette */
  --clr-bg: radial-gradient(circle at 20% 20%, #0d1117 0%, #0b0f19 40%, #05060a 100%);
  --clr-surface: rgba(255,255,255,0.06);
  --clr-surface-alt: rgba(255,255,255,0.12);
  --clr-border: rgba(255,255,255,0.15);
  --clr-border-strong: rgba(255,255,255,0.35);
  --clr-text: #f5f7fa;
  --clr-text-dim: #b5bcc6;
  --clr-accent-1: #6d7cff;
  --clr-accent-2: #ff6ec7;
  --clr-accent-3: #34d8ac;
  --clr-accent-warn: #ffb347;
  --clr-accent-danger: #ff4d4d;

  /* Gradients */
  --grad-accent: linear-gradient(135deg,#6d7cff,#ff6ec7 55%,#34d8ac);
  --grad-surface: linear-gradient(145deg,rgba(255,255,255,0.12),rgba(255,255,255,0.04));
  --grad-bar: linear-gradient(180deg,#6d7cff,#ff6ec7);
  --grad-bar-sorted: linear-gradient(180deg,#34d8ac,#209c7d);

  /* Elevation */
  --shadow-1: 0 4px 12px -2px rgba(0,0,0,.4),0 2px 4px rgba(0,0,0,.35);
  --shadow-2: 0 6px 18px -4px rgba(0,0,0,.55),0 4px 6px rgba(0,0,0,.4);
  --ring-focus: 0 0 0 2px rgba(255,255,255,.08),0 0 0 4px rgba(109,124,255,.45);

  /* Motion */
  --ease-emph: cubic-bezier(.4,0,.2,1);
  --dur-fast: 120ms;
  --dur-med: 260ms;
  --dur-slow: 480ms;

  /* Sizing */
  --radius-sm: 6px;
  --radius-md: 12px;
  --radius-lg: 18px;
  --radius-pill: 28px;

  /* Layout */
  --toolbar-height: 90px;
  --sidebar-width: 68px;
  --info-width: 340px;
}

html, body, #root {
  height: 100%;
}
body {
  margin: 0;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  background: var(--clr-bg);
  color: var(--clr-text);
  -webkit-font-smoothing: antialiased;
}

* { box-sizing: border-box; }

/* Scrollbar theming */
::-webkit-scrollbar { width: 10px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--clr-surface-alt); border-radius: 6px; }
::-webkit-scrollbar-thumb:hover { background: var(--clr-accent-1); }

/* Utility classes */
.u-flex { display:flex; }
.u-center { display:flex; align-items:center; justify-content:center; }
.u-gap-sm { gap: 8px; }
.u-gap-md { gap: 16px; }
.u-gap-lg { gap: 28px; }

/* Glass panel */
.panel {
  background: var(--clr-surface);
  -webkit-backdrop-filter: blur(22px) saturate(160%);
  backdrop-filter: blur(22px) saturate(160%);
  border: 1px solid var(--clr-border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-1);
}

.button-primary {
  font: 600 14px/1 'Inter', sans-serif;
  letter-spacing: .5px;
  padding: 10px 20px;
  border-radius: var(--radius-pill);
  position: relative;
  cursor: pointer;
  background: var(--grad-accent);
  color: #fff;
  border: none;
  box-shadow: var(--shadow-1);
  transition: transform var(--dur-fast) var(--ease-emph), box-shadow var(--dur-fast) var(--ease-emph);
}
.button-primary:focus-visible { outline: none; box-shadow: var(--ring-focus); }
.button-primary:hover { transform: translateY(-2px); }
.button-primary:active { transform: translateY(1px) scale(.97); }
.button-primary[disabled] { opacity:.4; cursor:not-allowed; transform:none; }

.button-ghost {
  background: var(--clr-surface-alt);
  color: var(--clr-text);
  border: 1px solid var(--clr-border);
  padding: 8px 16px;
  border-radius: var(--radius-pill);
  font: 500 13px/1 'Inter';
  cursor: pointer;
  transition: background var(--dur-med) var(--ease-emph), color var(--dur-med) var(--ease-emph), border-color var(--dur-med) var(--ease-emph);
}
.button-ghost:hover { background: var(--clr-surface-alt); border-color: var(--clr-accent-1); }
.button-ghost:focus-visible { outline:none; box-shadow: var(--ring-focus); }

/* Range slider base styling (will refine in Toolbar refactor) */
input[type=range] { width: 160px; height: 6px; border-radius: 3px; background: var(--clr-surface-alt); outline:none; }
input[type=range]::-webkit-slider-thumb { -webkit-appearance:none; height:20px; width:20px; border-radius:50%; background: var(--grad-accent); border:2px solid #1b1f27; box-shadow:0 0 0 2px rgba(0,0,0,.4); transition: box-shadow var(--dur-fast) var(--ease-emph), transform var(--dur-fast) var(--ease-emph); }
input[type=range]:hover::-webkit-slider-thumb { box-shadow:0 0 0 2px rgba(255,255,255,.15); }
input[type=range]:active::-webkit-slider-thumb { transform:scale(.85); }

/* Visualization bars (new baseline) */
#bodyContainer { display:flex; align-items:flex-end; justify-content:center; height: calc(100vh - var(--toolbar-height)); padding: 8px 28px 40px; position:relative; overflow:hidden; }
.bar { position:relative; display:inline-flex; align-items:flex-end; justify-content:center; margin:0 var(--bar-gap,2px); width:var(--bar-width,14px); border-radius: 4px 4px 10px 10px; background: var(--grad-bar); box-shadow: 0 4px 10px -2px rgba(0,0,0,.6); transform-origin: bottom center; transition: height var(--dur-fast) var(--ease-emph), background var(--dur-med) var(--ease-emph), filter var(--dur-med) var(--ease-emph); font: 600 10px/1 'Inter'; color:#fff; }
.bar.sorted { background: var(--grad-bar-sorted); filter: saturate(1.4); }
.bar.compare { outline:2px solid var(--clr-accent-3); }
.bar.swap { animation: pulseSwap var(--dur-slow) var(--ease-emph); }
.bar.pivot { box-shadow:0 0 0 2px rgba(255,255,255,.4),0 0 18px -2px var(--clr-accent-2); }
.bar::after { content:""; position:absolute; bottom:-18px; left:0; right:0; height:18px; background:inherit; transform: scaleY(-1); filter: blur(6px) opacity(.35); mask:linear-gradient(to bottom,rgba(0,0,0,.5),transparent); border-radius:10px; }

@keyframes pulseSwap { 0%{filter:brightness(1.6);} 70%{filter:brightness(1);} 100%{filter:brightness(1);} }

/* Sidebar new baseline (will refactor component to use) */
#sortSidebar { background: var(--clr-surface); -webkit-backdrop-filter: blur(20px) saturate(160%); backdrop-filter: blur(20px) saturate(160%); border-right:1px solid var(--clr-border); width: var(--sidebar-width); top: var(--toolbar-height); height: calc(100vh - var(--toolbar-height)); position: fixed; display:flex; flex-direction:column; align-items:center; padding:18px 0; gap:18px; }
.sortOption, .sortOption-selected { writing-mode: vertical-rl; transform: rotate(180deg); font: 600 13px/1 'Inter'; letter-spacing:.5px; cursor:pointer; padding:10px 6px; border-radius: var(--radius-md); transition: background var(--dur-med) var(--ease-emph), color var(--dur-med) var(--ease-emph), box-shadow var(--dur-fast) var(--ease-emph); color: var(--clr-text-dim); }
.sortOption:hover { color: var(--clr-text); background: var(--clr-surface-alt); }
.sortOption-selected { background: var(--grad-accent); color:#fff; box-shadow: var(--shadow-1); }
.sortOption-selected:hover { filter:brightness(1.1); }

#infoContainer { position:fixed; top: var(--toolbar-height); left: var(--sidebar-width); width: var(--info-width); height: calc(100vh - var(--toolbar-height)); padding:28px 26px 60px; overflow-y:auto; background: var(--clr-surface); border-right:1px solid var(--clr-border); -webkit-backdrop-filter: blur(28px) saturate(180%); backdrop-filter: blur(28px) saturate(180%); }
#infoContainer h2 { margin-top:0; font: 700 26px/1.2 'Playfair Display', serif; background: var(--grad-accent); -webkit-background-clip: text; background-clip: text; color: transparent; }
.table-metrics { width:100%; border-collapse:collapse; margin-top:12px; font-size:13px; }
.table-metrics th, .table-metrics td { padding:6px 8px; text-align:left; border-bottom:1px solid var(--clr-border); }
.table-metrics th { font-weight:600; color: var(--clr-text); }
.table-metrics td { color: var(--clr-text-dim); }
